import { Component, Input } from '@angular/core';
import { Message } from './toast.model';
import * as i0 from "@angular/core";
import * as i1 from "./ng-toast.service";
import * as i2 from "@angular/common";
class NgToastComponent {
    constructor(toastService) {
        this.toastService = toastService;
        this.show = false;
        this.style = {};
    }
    ngOnInit() {
        this.toastService.getToastDetails().subscribe((val) => {
            this.show = true;
            clearTimeout(this.timeoutRef);
            this.toastDetails = val;
            if (this.toastDetails.duration) {
                this.timeoutRef = setTimeout(() => {
                    this.show = false;
                }, this.toastDetails.duration);
            }
            if (this.toastDetails.sticky) { // for sticky
                clearTimeout(this.timeoutRef);
                this.show = true;
            }
            if (!this.toastDetails.duration && !this.toastDetails.sticky) { //no duration and sticky is true
                this.timeoutRef = setTimeout(() => {
                    this.show = false;
                }, 4000);
            }
        });
    }
    closeToast() {
        clearTimeout(this.timeoutRef);
        this.show = false;
    }
    loadPosition() {
        let postionClass = "";
        if (this.toastDetails?.position !== undefined) {
            switch (this.toastDetails.position) {
                case "topRight":
                    postionClass = 'toast-top-right';
                    break;
                case "topLeft":
                    postionClass = 'toast-top-left';
                    break;
                case "bottomRight":
                    postionClass = 'toast-bottom-right';
                    break;
                case "bottomLeft":
                    postionClass = 'toast-bottom-left';
                    break;
                case "topCenter":
                    postionClass = 'toast-top-center';
                    break;
                case "botomCenter":
                    postionClass = 'toast-bottom-center';
                    break;
                default: postionClass = "toast-top-right";
            }
        }
        else {
            postionClass = "toast-top-right";
        }
        return postionClass;
    }
    loadMessageType() {
        let typeClass = "";
        if (this.toastDetails?.type !== undefined) {
            switch (this.toastDetails.type) {
                case "success":
                    typeClass = Message.success;
                    break;
                case "error":
                    typeClass = Message.error;
                    break;
                case "warning":
                    typeClass = Message.warning;
                    break;
                case "info":
                    typeClass = Message.info;
                    break;
                default: typeClass = Message.success;
            }
        }
        else {
            typeClass = Message.success;
        }
        return typeClass;
    }
    loadIconType() {
        let iconClass = "";
        if (this.toastDetails?.type !== undefined) {
            switch (this.toastDetails.type) {
                case "success":
                    iconClass = 'fa-check-circle';
                    break;
                case "error":
                    iconClass = 'fa-times-circle';
                    break;
                case "warning":
                    iconClass = 'fa-exclamation-circle';
                    break;
                case "info":
                    iconClass = 'fa-info-circle';
                    break;
                default: iconClass = "fa-check-circle";
            }
        }
        else {
            iconClass = "fa-check-circle";
        }
        return iconClass;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.1.1", ngImport: i0, type: NgToastComponent, deps: [{ token: i1.NgToastService }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.1.1", type: NgToastComponent, selector: "ng-toast", inputs: { style: "style" }, ngImport: i0, template: "\n<div class=\"toast-container\" [ngClass]=\"loadPosition()\" [class.active]=\"show\">\n  <div [ngStyle]=\"style\" class=\"ng-toast\" [ngClass]=\"loadMessageType()\">\n    <div class=\"container-1\">\n      <i class=\"fa\" [ngClass]=\"loadIconType()\"></i>\n    </div>\n    <div class=\"container-2\">\n      <p>{{ toastDetails?.detail }}</p>\n      <p>{{ toastDetails?.summary }}</p>\n    </div>\n    <button *ngIf=\"show\" id=\"close\" (click)=\"closeToast()\">&times;</button>\n  </div>\n</div>\n", styles: ["*{padding:0;margin:0;box-sizing:border-box;border:none}.show-toast{margin:10px;background-color:#101020;color:#fff;padding:20px;border-radius:5px;cursor:pointer}.fa-times-circle{color:#ff355b}.fa-check-circle{color:#47d764}.fa-exclamation-circle{color:#ffc021}.fa-info-circle{color:#2f86eb}.container-1{margin:7px 0 7px 7px;display:flex}.container-1 i{font-size:30px}.container-2{display:flex;flex-direction:column;margin-left:4px;font-family:roboto,sans-serif}.container-2 p:first-child{display:flex;flex-direction:column;margin-left:5px;font-weight:700;font-size:.9rem;font-family:roboto,sans-serif}.container-2 p:last-child{font-size:14px;color:#656565;font-weight:400;font-family:roboto,sans-serif;margin-left:5px}#close{align-self:flex-start;background-color:transparent;font-size:25px;line-height:0;color:#656565;cursor:pointer}.toast-container{pointer-events:none;position:fixed;z-index:999999}.toast-top-center{top:5%;right:0;width:100%;transform:translateY(-400px);transition:.5s}.toast-top-center.active{transform:translate(0);transition:.5s}.toast-bottom-center{bottom:5%;right:0;width:100%;transform:translateY(400px);transition:.5s}.toast-bottom-center.active{transform:translate(0);transition:.5s}.toast-top-right{right:1%;top:5%;transform:translate(400px);transition:.5s}.toast-top-right.active{transform:translate(0);transition:.5s}.toast-bottom-right{right:1%;bottom:5%;transform:translate(400px);transition:.5s}.toast-bottom-right.active{transform:translate(0);transition:.5s}.toast-top-left{left:1%;top:5%;transform:translate(-400px);transition:.5s}.toast-top-left.active{transform:translate(0);transition:.5s}.toast-bottom-left{left:1%;bottom:5%;transform:translate(-400px);transition:.5s}.toast-bottom-left.active{transform:translate(0);transition:.5s}.toast-container.toast-top-center .ng-toast,.toast-container.toast-bottom-center .ng-toast{width:350px;margin-left:auto;margin-right:auto}.ng-toast{width:350px;height:auto;font-size:1rem;padding:10px;box-shadow:0 10px 20px #4b32320d;border-radius:7px;display:grid;grid-template-columns:1.2fr 6fr .5fr;pointer-events:auto}.ng-toast.error{border-left:8px solid #ff355b;background-color:#ffe7e6}.ng-toast.warning{border-left:8px solid #ffc021;background-color:#fff2e2}.ng-toast.success{border-left:8px solid #47d764;background-color:#e4f8f0}.ng-toast.info{border-left:8px solid #2f86eb;background-color:#e9e9ff}\n"], dependencies: [{ kind: "directive", type: i2.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i2.NgStyle, selector: "[ngStyle]", inputs: ["ngStyle"] }] }); }
}
export { NgToastComponent };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.1.1", ngImport: i0, type: NgToastComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ng-toast', template: "\n<div class=\"toast-container\" [ngClass]=\"loadPosition()\" [class.active]=\"show\">\n  <div [ngStyle]=\"style\" class=\"ng-toast\" [ngClass]=\"loadMessageType()\">\n    <div class=\"container-1\">\n      <i class=\"fa\" [ngClass]=\"loadIconType()\"></i>\n    </div>\n    <div class=\"container-2\">\n      <p>{{ toastDetails?.detail }}</p>\n      <p>{{ toastDetails?.summary }}</p>\n    </div>\n    <button *ngIf=\"show\" id=\"close\" (click)=\"closeToast()\">&times;</button>\n  </div>\n</div>\n", styles: ["*{padding:0;margin:0;box-sizing:border-box;border:none}.show-toast{margin:10px;background-color:#101020;color:#fff;padding:20px;border-radius:5px;cursor:pointer}.fa-times-circle{color:#ff355b}.fa-check-circle{color:#47d764}.fa-exclamation-circle{color:#ffc021}.fa-info-circle{color:#2f86eb}.container-1{margin:7px 0 7px 7px;display:flex}.container-1 i{font-size:30px}.container-2{display:flex;flex-direction:column;margin-left:4px;font-family:roboto,sans-serif}.container-2 p:first-child{display:flex;flex-direction:column;margin-left:5px;font-weight:700;font-size:.9rem;font-family:roboto,sans-serif}.container-2 p:last-child{font-size:14px;color:#656565;font-weight:400;font-family:roboto,sans-serif;margin-left:5px}#close{align-self:flex-start;background-color:transparent;font-size:25px;line-height:0;color:#656565;cursor:pointer}.toast-container{pointer-events:none;position:fixed;z-index:999999}.toast-top-center{top:5%;right:0;width:100%;transform:translateY(-400px);transition:.5s}.toast-top-center.active{transform:translate(0);transition:.5s}.toast-bottom-center{bottom:5%;right:0;width:100%;transform:translateY(400px);transition:.5s}.toast-bottom-center.active{transform:translate(0);transition:.5s}.toast-top-right{right:1%;top:5%;transform:translate(400px);transition:.5s}.toast-top-right.active{transform:translate(0);transition:.5s}.toast-bottom-right{right:1%;bottom:5%;transform:translate(400px);transition:.5s}.toast-bottom-right.active{transform:translate(0);transition:.5s}.toast-top-left{left:1%;top:5%;transform:translate(-400px);transition:.5s}.toast-top-left.active{transform:translate(0);transition:.5s}.toast-bottom-left{left:1%;bottom:5%;transform:translate(-400px);transition:.5s}.toast-bottom-left.active{transform:translate(0);transition:.5s}.toast-container.toast-top-center .ng-toast,.toast-container.toast-bottom-center .ng-toast{width:350px;margin-left:auto;margin-right:auto}.ng-toast{width:350px;height:auto;font-size:1rem;padding:10px;box-shadow:0 10px 20px #4b32320d;border-radius:7px;display:grid;grid-template-columns:1.2fr 6fr .5fr;pointer-events:auto}.ng-toast.error{border-left:8px solid #ff355b;background-color:#ffe7e6}.ng-toast.warning{border-left:8px solid #ffc021;background-color:#fff2e2}.ng-toast.success{border-left:8px solid #47d764;background-color:#e4f8f0}.ng-toast.info{border-left:8px solid #2f86eb;background-color:#e9e9ff}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.NgToastService }]; }, propDecorators: { style: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmctdG9hc3QuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvbmctdG9hc3Qvc3JjL2xpYi9uZy10b2FzdC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi9wcm9qZWN0cy9uZy10b2FzdC9zcmMvbGliL25nLXRvYXN0LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFVLE1BQU0sZUFBZSxDQUFDO0FBRXpELE9BQU8sRUFBVSxPQUFPLEVBQVksTUFBTSxlQUFlLENBQUM7Ozs7QUFFMUQsTUFNYSxnQkFBZ0I7SUFRM0IsWUFBb0IsWUFBNEI7UUFBNUIsaUJBQVksR0FBWixZQUFZLENBQWdCO1FBTmhELFNBQUksR0FBWSxLQUFLLENBQUM7UUFDYixVQUFLLEdBQVEsRUFFckIsQ0FBQztJQUdrRCxDQUFDO0lBRXJELFFBQVE7UUFDTixJQUFJLENBQUMsWUFBWSxDQUFDLGVBQWUsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEdBQVcsRUFBRSxFQUFFO1lBQzVELElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1lBQ2pCLFlBQVksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDOUIsSUFBSSxDQUFDLFlBQVksR0FBRyxHQUFHLENBQUM7WUFDeEIsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsRUFBRTtnQkFDOUIsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUMsR0FBRyxFQUFFO29CQUNoQyxJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQztnQkFDcEIsQ0FBQyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUM7YUFDaEM7WUFDRCxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLEVBQUUsYUFBYTtnQkFDM0MsWUFBWSxDQUFDLElBQUksQ0FBQyxVQUFV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QUM7b0JBQ2xELE1BQU07Z0JBQ1IsS0FBSyxNQUFNO29CQUFFLFNBQVMsR0FBRyxnQkFBZ0IsQ0FBQztvQkFDeEMsTUFBTTtnQkFFUixPQUFPLENBQUMsQ0FBQyxTQUFTLEdBQUcsaUJBQWlCLENBQUM7YUFDeEM7U0FDRjthQUFNO1lBQ0wsU0FBUyxHQUFHLGlCQUFpQixDQUFBO1NBQzlCO1FBQ0QsT0FBTyxTQUFTLENBQUM7SUFDbkIsQ0FBQzs4R0FsR1UsZ0JBQWdCO2tHQUFoQixnQkFBZ0IsNEVDVjdCLHFmQWFBOztTREhhLGdCQUFnQjsyRkFBaEIsZ0JBQWdCO2tCQU41QixTQUFTOytCQUNFLFVBQVU7cUdBUVgsS0FBSztzQkFBYixLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT25Jbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBOZ1RvYXN0U2VydmljZSB9IGZyb20gJy4vbmctdG9hc3Quc2VydmljZSc7XG5pbXBvcnQgeyBJVG9hc3QsIE1lc3NhZ2UsIFBvc2l0aW9uIH0gZnJvbSAnLi90b2FzdC5tb2RlbCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ25nLXRvYXN0JyxcbiAgdGVtcGxhdGVVcmw6ICcuL25nLXRvYXN0LmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vbmctdG9hc3QuY29tcG9uZW50LnNjc3MnXG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgTmdUb2FzdENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgc2hvdzogYm9vbGVhbiA9IGZhbHNlO1xuICBASW5wdXQoKSBzdHlsZTogYW55ID0ge1xuXG4gIH07XG4gIHRvYXN0RGV0YWlsczogSVRvYXN0IHwgdW5kZWZpbmVkO1xuICB0aW1lb3V0UmVmOiBhbnk7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgdG9hc3RTZXJ2aWNlOiBOZ1RvYXN0U2VydmljZSkgeyB9XG5cbiAgbmdPbkluaXQoKTogdm9pZCB7XG4gICAgdGhpcy50b2FzdFNlcnZpY2UuZ2V0VG9hc3REZXRhaWxzKCkuc3Vic2NyaWJlKCh2YWw6IElUb2FzdCkgPT4ge1xuICAgICAgdGhpcy5zaG93ID0gdHJ1ZTtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRSZWYpO1xuICAgICAgdGhpcy50b2FzdERldGFpbHMgPSB2YWw7XG4gICAgICBpZiAodGhpcy50b2FzdERldGFpbHMuZHVyYXRpb24pIHtcbiAgICAgICAgdGhpcy50aW1lb3V0UmVmID0gc2V0VGltZW91dCgoKSA9PiB7IC8vIGR1cmF0aW9uIGlzIHRoZXJlXG4gICAgICAgICAgdGhpcy5zaG93ID0gZmFsc2U7XG4gICAgICAgIH0sIHRoaXMudG9hc3REZXRhaWxzLmR1cmF0aW9uKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnRvYXN0RGV0YWlscy5zdGlja3kpIHsgLy8gZm9yIHN0aWNreVxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0UmVmKTtcbiAgICAgICAgdGhpcy5zaG93ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy50b2FzdERldGFpbHMuZHVyYXRpb24gJiYgIXRoaXMudG9hc3REZXRhaWxzLnN0aWNreSkgeyAvL25vIGR1cmF0aW9uIGFuZCBzdGlja3kgaXMgdHJ1ZVxuICAgICAgICB0aGlzLnRpbWVvdXRSZWYgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLnNob3cgPSBmYWxzZTtcbiAgICAgICAgfSwgNDAwMCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgY2xvc2VUb2FzdCgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0UmVmKTtcbiAgICB0aGlzLnNob3cgPSBmYWxzZTtcbiAgfVxuICBsb2FkUG9zaXRpb24oKSB7XG4gICAgbGV0IHBvc3Rpb25DbGFzcyA9IFwiXCI7XG4gICAgaWYgKHRoaXMudG9hc3REZXRhaWxzPy5wb3NpdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzd2l0Y2ggKHRoaXMudG9hc3REZXRhaWxzLnBvc2l0aW9uKSB7XG4gICAgICAgIGNhc2UgXCJ0b3BSaWdodFwiOiBwb3N0aW9uQ2xhc3MgPSAndG9hc3QtdG9wLXJpZ2h0JztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInRvcExlZnRcIjogcG9zdGlvbkNsYXNzID0gJ3RvYXN0LXRvcC1sZWZ0JztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImJvdHRvbVJpZ2h0XCI6IHBvc3Rpb25DbGFzcyA9ICd0b2FzdC1ib3R0b20tcmlnaHQnO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYm90dG9tTGVmdFwiOiBwb3N0aW9uQ2xhc3MgPSAndG9hc3QtYm90dG9tLWxlZnQnO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidG9wQ2VudGVyXCI6IHBvc3Rpb25DbGFzcyA9ICd0b2FzdC10b3AtY2VudGVyJztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImJvdG9tQ2VudGVyXCI6IHBvc3Rpb25DbGFzcyA9ICd0b2FzdC1ib3R0b20tY2VudGVyJztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDogcG9zdGlvbkNsYXNzID0gXCJ0b2FzdC10b3AtcmlnaHRcIjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcG9zdGlvbkNsYXNzID0gXCJ0b2FzdC10b3AtcmlnaHRcIlxuICAgIH1cbiAgICByZXR1cm4gcG9zdGlvbkNsYXNzO1xuICB9XG4gIGxvYWRNZXNzYWdlVHlwZSgpIHtcbiAgICBsZXQgdHlwZUNsYXNzID0gXCJcIjtcbiAgICBpZiAodGhpcy50b2FzdERldGFpbHM/LnR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc3dpdGNoICh0aGlzLnRvYXN0RGV0YWlscy50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJzdWNjZXNzXCI6IHR5cGVDbGFzcyA9IE1lc3NhZ2Uuc3VjY2VzcztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImVycm9yXCI6IHR5cGVDbGFzcyA9IE1lc3NhZ2UuZXJyb3I7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ3YXJuaW5nXCI6IHR5cGVDbGFzcyA9IE1lc3NhZ2Uud2FybmluZztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImluZm9cIjogdHlwZUNsYXNzID0gTWVzc2FnZS5pbmZvO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6IHR5cGVDbGFzcyA9IE1lc3NhZ2Uuc3VjY2VzcztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdHlwZUNsYXNzID0gTWVzc2FnZS5zdWNjZXNzO1xuICAgIH1cbiAgICByZXR1cm4gdHlwZUNsYXNzO1xuICB9XG5cbiAgbG9hZEljb25UeXBlKCkge1xuICAgIGxldCBpY29uQ2xhc3MgPSBcIlwiO1xuICAgIGlmICh0aGlzLnRvYXN0RGV0YWlscz8udHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzd2l0Y2ggKHRoaXMudG9hc3REZXRhaWxzLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcInN1Y2Nlc3NcIjogaWNvbkNsYXNzID0gJ2ZhLWNoZWNrLWNpcmNsZSc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJlcnJvclwiOiBpY29uQ2xhc3MgPSAnZmEtdGltZXMtY2lyY2xlJztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIndhcm5pbmdcIjogaWNvbkNsYXNzID0gJ2ZhLWV4Y2xhbWF0aW9uLWNpcmNsZSc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpbmZvXCI6IGljb25DbGFzcyA9ICdmYS1pbmZvLWNpcmNsZSc7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDogaWNvbkNsYXNzID0gXCJmYS1jaGVjay1jaXJjbGVcIjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWNvbkNsYXNzID0gXCJmYS1jaGVjay1jaXJjbGVcIlxuICAgIH1cbiAgICByZXR1cm4gaWNvbkNsYXNzO1xuICB9XG5cbn1cbiIsIlxuPGRpdiBjbGFzcz1cInRvYXN0LWNvbnRhaW5lclwiIFtuZ0NsYXNzXT1cImxvYWRQb3NpdGlvbigpXCIgW2NsYXNzLmFjdGl2ZV09XCJzaG93XCI+XG4gIDxkaXYgW25nU3R5bGVdPVwic3R5bGVcIiBjbGFzcz1cIm5nLXRvYXN0XCIgW25nQ2xhc3NdPVwibG9hZE1lc3NhZ2VUeXBlKClcIj5cbiAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyLTFcIj5cbiAgICAgIDxpIGNsYXNzPVwiZmFcIiBbbmdDbGFzc109XCJsb2FkSWNvblR5cGUoKVwiPjwvaT5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyLTJcIj5cbiAgICAgIDxwPnt7IHRvYXN0RGV0YWlscz8uZGV0YWlsIH19PC9wPlxuICAgICAgPHA+e3sgdG9hc3REZXRhaWxzPy5zdW1tYXJ5IH19PC9wPlxuICAgIDwvZGl2PlxuICAgIDxidXR0b24gKm5nSWY9XCJzaG93XCIgaWQ9XCJjbG9zZVwiIChjbGljayk9XCJjbG9zZVRvYXN0KClcIj4mdGltZXM7PC9idXR0b24+XG4gIDwvZGl2PlxuPC9kaXY+XG4iXX0=