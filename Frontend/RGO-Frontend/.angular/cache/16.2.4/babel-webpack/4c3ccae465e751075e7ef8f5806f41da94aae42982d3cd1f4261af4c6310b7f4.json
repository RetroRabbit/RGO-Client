{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/role.service\";\nimport * as i2 from \"src/app/services/employee.service\";\nimport * as i3 from \"src/app/services/employee-role.service\";\nfunction EmployeeRoleManagerComponent_div_1_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const employee_r8 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", employee_r8[\"email\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", employee_r8[\"email\"], \" \");\n  }\n}\nfunction EmployeeRoleManagerComponent_div_1_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1, \" Please select an email \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EmployeeRoleManagerComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"label\");\n    i0.ɵɵtext(2, \"Employees:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementStart(4, \"input\", 8);\n    i0.ɵɵlistener(\"input\", function EmployeeRoleManagerComponent_div_1_Template_input_input_4_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.getRoles(ctx_r9.newEmployeeForm.value.email));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"datalist\", 9);\n    i0.ɵɵtemplate(6, EmployeeRoleManagerComponent_div_1_option_6_Template, 2, 2, \"option\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, EmployeeRoleManagerComponent_div_1_div_7_Template, 2, 0, \"div\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const employees_r5 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", employees_r5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.newEmployeeForm.controls.email.invalid && (ctx_r0.newEmployeeForm.controls.email.dirty || ctx_r0.newEmployeeForm.controls.email.touched));\n  }\n}\nfunction EmployeeRoleManagerComponent_div_4_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function EmployeeRoleManagerComponent_div_4_button_5_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r16);\n      const role_r14 = restoredCtx.$implicit;\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r15.changeRole(role_r14));\n    });\n    i0.ɵɵelementStart(1, \"span\", 16);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const role_r14 = ctx.$implicit;\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", role_r14 == ctx_r12.newEmployeeForm.value.role ? \"selected\" : \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(role_r14);\n  }\n}\nfunction EmployeeRoleManagerComponent_div_4_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1, \" Please select an email \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EmployeeRoleManagerComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"label\")(2, \"Em\");\n    i0.ɵɵtext(3, \"Roles:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵtemplate(5, EmployeeRoleManagerComponent_div_4_button_5_Template, 3, 2, \"button\", 14);\n    i0.ɵɵtemplate(6, EmployeeRoleManagerComponent_div_4_div_6_Template, 2, 0, \"div\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const roles_r11 = ctx.ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", roles_r11);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.newEmployeeForm.controls.role.invalid && (ctx_r1.newEmployeeForm.controls.role.dirty || ctx_r1.newEmployeeForm.controls.role.touched));\n  }\n}\nfunction EmployeeRoleManagerComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtext(1, \" operation succeded \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EmployeeRoleManagerComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtext(1, \" operation failed \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EmployeeRoleManagerComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 19)(1, \"div\", 20);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 21)(4, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function EmployeeRoleManagerComponent_div_16_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.getRoles(ctx_r17.newEmployeeForm.value.email));\n    });\n    i0.ɵɵtext(5, \" Reload \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"code\")(7, \"pre\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"json\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Roles of \", ctx_r4.newEmployeeForm.value.email, \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"                        \", i0.ɵɵpipeBind1(9, 2, ctx_r4.currRoles), \"\\n                    \");\n  }\n}\nexport class EmployeeRoleManagerComponent {\n  constructor(roleService, empoloyeeService, employeeRoleService) {\n    this.roleService = roleService;\n    this.empoloyeeService = empoloyeeService;\n    this.employeeRoleService = employeeRoleService;\n    this.roles$ = this.employeeRoleService.getAllRoles();\n    this.employees$ = this.empoloyeeService.getAll();\n    this.saved = false;\n    this.deleted = false;\n    this.failed = false;\n    this.newEmployeeForm = new FormGroup({\n      email: new FormControl('', Validators.required),\n      role: new FormControl('', Validators.required)\n    });\n  }\n  isInCurrent(role) {\n    return this.currRoles.includes(role);\n  }\n  getRoles(selectedEmail) {\n    this.employeeRoleService.getRoles(selectedEmail).subscribe(val => this.currRoles = val);\n  }\n  changeEmail(email) {\n    this.newEmployeeForm.setValue({\n      email: email,\n      role: this.newEmployeeForm.value.role ?? ''\n    });\n  }\n  changeRole(role) {\n    this.newEmployeeForm.setValue({\n      email: this.newEmployeeForm.value.email ?? '',\n      role: role\n    });\n  }\n  assignRole() {\n    this.employeeRoleService.addRole(this.newEmployeeForm.value.email, this.newEmployeeForm.value.role).subscribe(() => {\n      this.newEmployeeForm.reset();\n      this.newEmployeeForm.setValue({\n        email: '',\n        role: ''\n      });\n      this.saved = true;\n    }, () => {\n      this.newEmployeeForm.reset();\n      this.newEmployeeForm.setValue({\n        email: '',\n        role: ''\n      });\n      this.failed = true;\n    });\n  }\n  unassignRole() {\n    this.employeeRoleService.removeRole(this.newEmployeeForm.value.email, this.newEmployeeForm.value.role).subscribe(() => {\n      this.newEmployeeForm.reset();\n      this.newEmployeeForm.setValue({\n        email: '',\n        role: ''\n      });\n      this.deleted = true;\n    }, () => {\n      this.newEmployeeForm.reset();\n      this.newEmployeeForm.setValue({\n        email: '',\n        role: ''\n      });\n      this.failed = true;\n    });\n  }\n  static #_ = this.ɵfac = function EmployeeRoleManagerComponent_Factory(t) {\n    return new (t || EmployeeRoleManagerComponent)(i0.ɵɵdirectiveInject(i1.RoleService), i0.ɵɵdirectiveInject(i2.EmployeeService), i0.ɵɵdirectiveInject(i3.EmployeeRoleService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: EmployeeRoleManagerComponent,\n    selectors: [[\"app-employee-role-manager\"]],\n    decls: 17,\n    vars: 12,\n    consts: [[1, \"container\", 3, \"formGroup\"], [\"class\", \"d-flex\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\", \"click\"], [\"type\", \"submit\", 1, \"btn\", \"btn-danger\", 3, \"disabled\", \"click\"], [\"class\", \"alert alert-info\", 4, \"ngIf\"], [\"class\", \"alert alert-warning\", 4, \"ngIf\"], [\"class\", \"card container\", 4, \"ngIf\"], [1, \"d-flex\"], [\"list\", \"email-list\", \"formControlName\", \"email\", 1, \"form-control\", 3, \"input\"], [\"id\", \"email-list\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"alert alert-danger mt-2\", 4, \"ngIf\"], [3, \"value\"], [1, \"alert\", \"alert-danger\", \"mt-2\"], [\"type\", \"button\", \"class\", \"btn\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", 1, \"btn\", 3, \"click\"], [3, \"ngClass\"], [1, \"alert\", \"alert-info\"], [1, \"alert\", \"alert-warning\"], [1, \"card\", \"container\"], [1, \"card-header\"], [1, \"card-body\"], [\"type\", \"button\", 3, \"click\"]],\n    template: function EmployeeRoleManagerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"form\", 0);\n        i0.ɵɵtemplate(1, EmployeeRoleManagerComponent_div_1_Template, 8, 2, \"div\", 1);\n        i0.ɵɵpipe(2, \"async\");\n        i0.ɵɵelement(3, \"br\");\n        i0.ɵɵtemplate(4, EmployeeRoleManagerComponent_div_4_Template, 7, 2, \"div\", 1);\n        i0.ɵɵpipe(5, \"async\");\n        i0.ɵɵelementStart(6, \"div\")(7, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function EmployeeRoleManagerComponent_Template_button_click_7_listener() {\n          return ctx.assignRole();\n        });\n        i0.ɵɵtext(8, \"Assign Role\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"button\", 3);\n        i0.ɵɵlistener(\"click\", function EmployeeRoleManagerComponent_Template_button_click_9_listener() {\n          return ctx.unassignRole();\n        });\n        i0.ɵɵtext(10, \"Unassign Role\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(11, \"br\");\n        i0.ɵɵtemplate(12, EmployeeRoleManagerComponent_div_12_Template, 2, 0, \"div\", 4);\n        i0.ɵɵelement(13, \"br\");\n        i0.ɵɵtemplate(14, EmployeeRoleManagerComponent_div_14_Template, 2, 0, \"div\", 5);\n        i0.ɵɵelement(15, \"br\");\n        i0.ɵɵtemplate(16, EmployeeRoleManagerComponent_div_16_Template, 10, 4, \"div\", 6);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"formGroup\", ctx.newEmployeeForm);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 8, ctx.employees$));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(5, 10, ctx.roles$));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"disabled\", !ctx.newEmployeeForm.valid);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", !ctx.newEmployeeForm.valid);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.saved || ctx.deleted);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.failed);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.newEmployeeForm.controls.email.valid);\n      }\n    },\n    styles: [\"pre[_ngcontent-%COMP%] {\\n    border: 1px solid #ccc;\\n    color: #000;\\n    background-color: #fff;\\n}\\n\\n.card[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%] {\\n    width: -moz-fit-content;\\n    width: fit-content;\\n    margin: 0.rem 0.1rem;\\n    padding: 0.5rem 0.5rem;\\n    font-size: large;\\n    font-weight: 700;\\n}\\n\\ndiv[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%] {\\n    flex-wrap: wrap;\\n}\\n\\n.selected[_ngcontent-%COMP%] {\\n    box-shadow: inset 0 0 0 0.2rem #000;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9lbXBsb3llZS9lbXBsb3llZS1yb2xlLW1hbmFnZXIvZW1wbG95ZWUtcm9sZS1tYW5hZ2VyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxzQkFBc0I7SUFDdEIsV0FBVztJQUNYLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLHVCQUFrQjtJQUFsQixrQkFBa0I7SUFDbEIsb0JBQW9CO0lBQ3BCLHNCQUFzQjtJQUN0QixnQkFBZ0I7SUFDaEIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksZUFBZTtBQUNuQjs7QUFFQTtJQUNJLG1DQUFtQztBQUN2QyIsInNvdXJjZXNDb250ZW50IjpbInByZSB7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xyXG4gICAgY29sb3I6ICMwMDA7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG59XHJcblxyXG4uY2FyZCwgLmZvcm0tY29udHJvbCB7XHJcbiAgICB3aWR0aDogZml0LWNvbnRlbnQ7XHJcbiAgICBtYXJnaW46IDAucmVtIDAuMXJlbTtcclxuICAgIHBhZGRpbmc6IDAuNXJlbSAwLjVyZW07XHJcbiAgICBmb250LXNpemU6IGxhcmdlO1xyXG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcclxufVxyXG5cclxuZGl2IC5kLWZsZXgge1xyXG4gICAgZmxleC13cmFwOiB3cmFwO1xyXG59XHJcblxyXG4uc2VsZWN0ZWQge1xyXG4gICAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDAgMC4ycmVtICMwMDA7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["FormControl","FormGroup","Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","employee_r8","ɵɵadvance","ɵɵtextInterpolate1","ɵɵelement","ɵɵlistener","EmployeeRoleManagerComponent_div_1_Template_input_input_4_listener","ɵɵrestoreView","_r10","ctx_r9","ɵɵnextContext","ɵɵresetView","getRoles","newEmployeeForm","value","email","ɵɵtemplate","EmployeeRoleManagerComponent_div_1_option_6_Template","EmployeeRoleManagerComponent_div_1_div_7_Template","employees_r5","ctx_r0","controls","invalid","dirty","touched","EmployeeRoleManagerComponent_div_4_button_5_Template_button_click_0_listener","restoredCtx","_r16","role_r14","$implicit","ctx_r15","changeRole","ctx_r12","role","ɵɵtextInterpolate","EmployeeRoleManagerComponent_div_4_button_5_Template","EmployeeRoleManagerComponent_div_4_div_6_Template","roles_r11","ctx_r1","EmployeeRoleManagerComponent_div_16_Template_button_click_4_listener","_r18","ctx_r17","ctx_r4","ɵɵpipeBind1","currRoles","EmployeeRoleManagerComponent","constructor","roleService","empoloyeeService","employeeRoleService","roles$","getAllRoles","employees$","getAll","saved","deleted","failed","required","isInCurrent","includes","selectedEmail","subscribe","val","changeEmail","setValue","assignRole","addRole","reset","unassignRole","removeRole","_","ɵɵdirectiveInject","i1","RoleService","i2","EmployeeService","i3","EmployeeRoleService","_2","selectors","decls","vars","consts","template","EmployeeRoleManagerComponent_Template","rf","ctx","EmployeeRoleManagerComponent_div_1_Template","EmployeeRoleManagerComponent_div_4_Template","EmployeeRoleManagerComponent_Template_button_click_7_listener","EmployeeRoleManagerComponent_Template_button_click_9_listener","EmployeeRoleManagerComponent_div_12_Template","EmployeeRoleManagerComponent_div_14_Template","EmployeeRoleManagerComponent_div_16_Template","valid"],"sources":["C:\\Users\\HP\\Desktop\\GOP\\RGO-Client\\Frontend\\RGO-Frontend\\src\\app\\components\\employee\\employee-role-manager\\employee-role-manager.component.ts","C:\\Users\\HP\\Desktop\\GOP\\RGO-Client\\Frontend\\RGO-Frontend\\src\\app\\components\\employee\\employee-role-manager\\employee-role-manager.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { Employee } from 'src/app/models/employee.interface';\r\nimport { EmployeeRoleService } from 'src/app/services/employee-role.service';\r\nimport { EmployeeService } from 'src/app/services/employee.service';\r\nimport { RoleService } from 'src/app/services/role.service';\r\n\r\n@Component({\r\n  selector: 'app-employee-role-manager',\r\n  templateUrl: './employee-role-manager.component.html',\r\n  styleUrls: ['./employee-role-manager.component.css']\r\n})\r\nexport class EmployeeRoleManagerComponent {\r\n  roles$: Observable<string[]> = this.employeeRoleService.getAllRoles()\r\n  employees$: Observable<Employee[]> = this.empoloyeeService.getAll()\r\n  \r\n  saved: boolean = false\r\n  deleted: boolean = false\r\n  failed: boolean = false\r\n  \r\n  newEmployeeForm = new FormGroup({\r\n    email: new FormControl<string>('', Validators.required),\r\n    role: new FormControl<string>('', Validators.required),\r\n  })\r\n  \r\n  currRoles!: string[]\r\n  \r\n  constructor(\r\n    private roleService: RoleService,\r\n    private empoloyeeService: EmployeeService,\r\n    private employeeRoleService: EmployeeRoleService\r\n  ) {}\r\n\r\n  isInCurrent(role: string): boolean {\r\n    return this.currRoles.includes(role)\r\n  }\r\n\r\n  getRoles(selectedEmail: string): void {\r\n    this.employeeRoleService.getRoles(selectedEmail).subscribe(val =>\r\n      this.currRoles = val)\r\n  }\r\n\r\n  changeEmail(email: string): void {\r\n    this.newEmployeeForm.setValue({email: email, role: this.newEmployeeForm.value.role ?? ''})\r\n  }\r\n\r\n  changeRole(role: string): void {\r\n    this.newEmployeeForm.setValue({email: this.newEmployeeForm.value.email ?? '', role: role})\r\n  }\r\n\r\n  assignRole(): void {\r\n    this.employeeRoleService.addRole(this.newEmployeeForm.value.email!, this.newEmployeeForm.value.role!).subscribe(\r\n      () => {\r\n        this.newEmployeeForm.reset()\r\n        this.newEmployeeForm.setValue({email: '', role: ''})\r\n        this.saved = true\r\n      },\r\n      () => {\r\n        this.newEmployeeForm.reset()\r\n        this.newEmployeeForm.setValue({email: '', role: ''})\r\n        this.failed = true\r\n      }\r\n    )\r\n  }\r\n\r\n  unassignRole(): void {\r\n    this.employeeRoleService.removeRole(this.newEmployeeForm.value.email!, this.newEmployeeForm.value.role!).subscribe(\r\n      () => {\r\n        this.newEmployeeForm.reset()\r\n        this.newEmployeeForm.setValue({email: '', role: ''})\r\n        this.deleted = true\r\n      },\r\n      () => {\r\n        this.newEmployeeForm.reset()\r\n        this.newEmployeeForm.setValue({email: '', role: ''})\r\n        this.failed = true\r\n      }\r\n    )\r\n  }\r\n}\r\n","<form [formGroup]=\"newEmployeeForm\" class=\"container\">\r\n    <div class=\"d-flex\" *ngIf=\"employees$ | async as employees\">\r\n        <label>Employees:</label>\r\n        <br>\r\n        <input class=\"form-control\" list=\"email-list\" formControlName=\"email\" (input)=\"getRoles(newEmployeeForm.value.email!)\">\r\n        <datalist id=\"email-list\">\r\n            <option *ngFor=\"let employee of employees\" [value]=\"employee['email']\">\r\n                {{ employee['email'] }}\r\n            </option>\r\n        </datalist>\r\n        <div\r\n            *ngIf=\"newEmployeeForm.controls.email.invalid &&\r\n                (newEmployeeForm.controls.email.dirty || newEmployeeForm.controls.email.touched)\"\r\n            class=\"alert alert-danger mt-2\">\r\n            Please select an email\r\n        </div>\r\n    </div>\r\n    <br>\r\n    <div class=\"d-flex\" *ngIf=\"roles$ | async as roles\">\r\n        <label><Em>Roles:</Em></label>\r\n        <br>\r\n        <button type=\"button\" class=\"btn\" *ngFor=\"let role of roles\" (click)=\"changeRole(role)\">\r\n            <span [ngClass]=\"role == newEmployeeForm.value.role ? 'selected' : ''\">{{role}}</span>\r\n        </button>\r\n        <div\r\n            *ngIf=\"newEmployeeForm.controls.role.invalid &&\r\n                (newEmployeeForm.controls.role.dirty || newEmployeeForm.controls.role.touched)\"\r\n            class=\"alert alert-danger mt-2\">\r\n            Please select an email\r\n        </div>\r\n    </div>\r\n    <div>\r\n        <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"!newEmployeeForm.valid\" (click)=\"assignRole()\">Assign Role</button>\r\n        <button type=\"submit\" class=\"btn btn-danger\" [disabled]=\"!newEmployeeForm.valid\" (click)=\"unassignRole()\">Unassign Role</button>\r\n        <br>\r\n        <div class=\"alert alert-info\" *ngIf=\"saved || deleted\">\r\n            operation succeded\r\n        </div>\r\n        <br>\r\n        <div class=\"alert alert-warning\" *ngIf=\"failed\">\r\n            operation failed\r\n        </div>\r\n        <br>\r\n        <div class=\"card container\" *ngIf=\"newEmployeeForm.controls.email.valid\">\r\n            <div class=\"card-header\">\r\n                Roles of {{ newEmployeeForm.value.email }}\r\n            </div>\r\n            <div class=\"card-body\">\r\n                <button type=\"button\" (click)=\"getRoles(newEmployeeForm.value.email!)\">\r\n                    Reload\r\n                </button>\r\n                <code>\r\n                    <pre>\r\n                        {{ currRoles | json }}\r\n                    </pre>\r\n                </code>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</form>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}