<!-- <main class="container-fluid px-3 py-2">
  <section class="container text-center">
    <div class="row">
      <button (click)="CaptureEvent($event)" type="button" class="btn btn-primary">New Employee</button>
      <mat-form-field appearance="outline" class="col-6">
        <button matPrefix mat-button><mat-icon>arrow_back</mat-icon></button>
        <input matInput type="text" class="rounded-pill border">
        <button matSuffix mat-button><mat-icon>search</mat-icon></button>
      </mat-form-field>
      <button (click)="CaptureEvent($event)" type="button" class="btn btn-primary col">Manage Permissions</button>
      <button (click)="CaptureEvent($event)" type="button" class="btn btn-primary col d-flex justify-content-center align-items-center">
        <mat-icon>add</mat-icon>
        Add Employee
      </button>
    </div>
  </section>
  <div class="row">
    <div class="card">
      <div class="table-responsive">
        <table class="table align-items-center mb-0 rounded">
          <thead>
            <tr>
              <th>Name</th>
              <th>Position</th>
              <th>Level</th>
              <th>Client</th>
              <th>Roles</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let employee of Employees" (click)="employeeClickEvent($event,employee)">
              <td>{{ employee.name + ' ' + employee.surname }}</td>
              <td>{{ employee.employeeType.name }}</td>
              <td>{{ employee.level }}</td>
              <td>{{ employee.clientAllocated ? employee.clientAllocated : 'Bench' }}</td>
              <td>{{ 'employee.role' }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</main> -->

<main class="container-fluid mt-3 px-5" style="font-family: 'Roboto', sans-serif;">
  <section class="container my-4">
    <div class="d-flex justify-content-between align-items-center gap-2">
      <!-- Search Bar -->
      <div
        class="d-flex align-items-center search-bar bg-light rounded-pill border border-primary"
        style="flex: 1 1 0; gap: 8px"
        [ngClass]="{'bg-transparent': filter.value !== ''}"
      >
        <button
          mat-button
          (click)="filter.value = ''"
          *ngIf="filter.value !== ''"
          class="mx-2"
        >
          <mat-icon>arrow_back</mat-icon>
        </button>
        <input
          matInput
          #filter
          (keyup)="applyFilter(filter.value)"
          class="flex-fill border-0 rounded-pill bg-light"
          placeholder="Search for employee by name"
          style="font-size: 16px"
          [ngClass]="{'bg-transparent': filter.value !== ''}"
        />
        <button mat-button class="mx-2">
          <mat-icon>search</mat-icon>
        </button>
      </div>
      <!-- Buttons -->
      <div class="d-flex align-items-center ml-4 gap-2">
        <button
          (click)="CaptureEvent($event)"
          type="button"
          class="btn btn-outline-primary rounded-pill"
          style="padding: 10px 24px"
        >
          Manage Permissions
        </button>
        <button
          (click)="CaptureEvent($event)"
          type="button"
          class="btn btn-primary rounded-pill d-flex align-items-center"
          style="gap: 8px; padding: 10px 16px"
        >
          <mat-icon>add</mat-icon> Add Employee
        </button>
      </div>
    </div>
  </section>

  <!-- <section
    class="container text-center row justify-content-center align-items-center"
  >
    <div class="d-flex justify-content-between mb-3 col-12">
      <mat-form-field appearance="outline" class="col-8">
        <button
          matPrefix
          mat-button
          (click)="reset(filter)"
          *ngIf="filter.value !== ''"
        >
          <mat-icon>arrow_back</mat-icon>
        </button>
        <input
          matInput
          #filter
          (keyup)="applyFilter(filter.value)"
          placeholder="Filter by Name"
        />
        <button matSuffix mat-button><mat-icon>search</mat-icon></button>
      </mat-form-field>
      <div class="col-4 row">
        <button
          #managePermissions
          (click)="CaptureEvent(managePermissions)"
          type="button"
          class="btn col px-2"
          id="manage-permissions"
        >
          Manage Permissions
        </button>
        <button
          #addEmployee
          (click)="CaptureEvent(addEmployee)"
          type="button"
          class="btn col d-flex justify-content-center align-items-center"
          id="add-employee"
        >
          <mat-icon>add</mat-icon>
          Add Employee
        </button>
      </div>
    </div>
  </section> -->
  <div class="row">
    <div class="card px-0">
      <div class="table-responsive">
        <mat-table [dataSource]="dataSource" matSort>
          <!-- Name Column -->
          <ng-container matColumnDef="Name">
            <mat-header-cell *matHeaderCellDef mat-sort-header
              >Name</mat-header-cell
            >
            <mat-cell *matCellDef="let employee">{{ employee.Name }}</mat-cell>
          </ng-container>
          <!-- Position Column -->
          <ng-container matColumnDef="Position">
            <mat-header-cell *matHeaderCellDef mat-sort-header
              >Position</mat-header-cell
            >
            <mat-cell *matCellDef="let employee">{{
              employee.Position
            }}</mat-cell>
          </ng-container>
          <!-- Level Column -->
          <ng-container matColumnDef="Level">
            <mat-header-cell *matHeaderCellDef mat-sort-header
              >Level</mat-header-cell
            >
            <mat-cell *matCellDef="let employee">{{ employee.Level }}</mat-cell>
          </ng-container>
          <!-- Client Column -->
          <ng-container matColumnDef="Client">
            <mat-header-cell *matHeaderCellDef mat-sort-header
              >Client</mat-header-cell
            >
            <mat-cell *matCellDef="let employee">{{
              employee.Client
            }}</mat-cell>
          </ng-container>
          <!-- Roles Column -->
          <ng-container matColumnDef="Roles">
            <mat-header-cell *matHeaderCellDef mat-sort-header matSortActive
              >Roles</mat-header-cell
            >
            <mat-cell *matCellDef="let employee">{{
              employee.Roles[0]
            }}</mat-cell>
          </ng-container>

          <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
          <mat-row
            *matRowDef="let row; columns: displayedColumns"
            (click)="employeeClickEvent($event, row)"
          ></mat-row>
        </mat-table>
        <mat-paginator hidden></mat-paginator>
      </div>
    </div>
    <div
      class="row justify-content-center align-items-center"
      *ngIf="paginator"
    >
      <div class="col-lg-4 col-md-4 fs-6">
        <span
          style="
            font-size: 16px;
            font-weight: 500;
            line-height: 24px;
            letter-spacing: 0.15px;
          "
        >
          Showing {{ paginator.pageIndex * paginator.pageSize + 1 }}-{{
            (paginator.pageIndex + 1) * paginator.pageSize
          }}
        </span>
        <span>of {{ paginator.length }} results</span>
      </div>
      <div class="col-lg-4 col-md-4">
        <button
          mat-icon-button
          (click)="prevPage()"
          [disabled]="!paginator.hasPreviousPage()">
          <mat-icon>arrow_left</mat-icon>
        </button>
        <button
          mat-icon-button
          *ngFor="let page of visiblePages"
        >
          <span>{{ page }}</span>
          <div *ngIf="page === pageIndex + 1" id="selected-line-box">
            <div id="selected-line"></div>
          </div>
        </button>
        <button
          mat-icon-button
          (click)="nextPage()"
          [disabled]="!paginator.hasNextPage()">
          <mat-icon>arrow_right</mat-icon>
        </button>
      </div>
      <div class="col-lg-4 col-md-4 row justify-content-center align-items-center">
        <span
          class="col-lg-6 col-md-7"
          style="
            font-size: 16px;
            font-weight: 500;
            line-height: 24px;
            letter-spacing: 0.15px;
          "
        >
          Items per page
        </span>
        <mat-form-field appearance="outline" class="col-lg-6 col-md-5">
          <mat-select #pageNo (valueChange)="changePageSize(+pageNo.value)">
            <mat-option *ngFor="let pageSize of pageSizes" [value]="pageSize">
              {{ pageSize }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>
  </div>
</main>

<!-- <main class="container-fluid">
  <section class="row">
    <mat-form-field>
      <button matPrefix mat-button><mat-icon></mat-icon></button>
      <input type="text" [(ngModel)]="searchTerm" matInput placeholder="Search for employee by name">
      <button matSuffix mat-button (click)="select.open()"><mat-icon>search</mat-icon></button>
      <mat-select #select hidden>
        <mat-option *ngFor="let employee of filteredEmployees" [value]="employee.email">
          {{ employee.name + ' ' + employee.surname }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </section>
  <section>
  
  </section>
</main> -->

<!-- Name - Position - Level - Client - Roles -->

<!-- <main class="container-fluid">
  <section class="col-12">
    <mat-form-field appearance="outline" class="col-6">
      <button matPrefix mat-button><mat-icon>arrow_back</mat-icon></button>
      <button matSuffix mat-button (click)="select.open()"><mat-icon>search</mat-icon></button>
      <mat-select #select hidden>
        <mat-option *ngFor="let employee of filteredEmployees" [value]="employee.email">
          {{ employee.name + ' ' + employee.surname }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <button mat-fab extended>
      Manage Permissions
    </button>
    <button mat-fab extended>
      <mat-icon>add</mat-icon>
      Add Employee
    </button>
    <mat-form-field class="col-3">
      <input matInput value="Manage Permissions">
    </mat-form-field>
    <mat-form-field class="col-3">
      <button matPrefix mat-button><mat-icon>add</mat-icon></button>
      <input matInput value="Add Employee">
    </mat-form-field>
  </section>
  <section class="col-12"></section>
</main> -->

<!-- <div>
  <mat-form-field>
    <input matInput (keyup)="applyFilter($event)" placeholder="Search for employee by name" #input>
  </mat-form-field>
  <button mat-fab extended>
    Manage Permissions
  </button>
  <button mat-fab extended>
    <mat-icon>add</mat-icon>
    Add Employee
  </button>
</div>
<main>
  <table mat-table [dataSource]="dataSource" matSort>
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
      <td mat-cell *matCellDef="let row">{{row.name + row.surname}}</td>
    </ng-container>
    <ng-container matColumnDef="position">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Position</th>
      <td mat-cell *matCellDef="let row">{{row.employeeType.name}}</td>
    </ng-container>
    <ng-container matColumnDef="level">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Level</th>
      <td mat-cell *matCellDef="let row">{{row.level}}</td>
    </ng-container>
    <ng-container matColumnDef="client">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Client</th>
      <td mat-cell *matCellDef="let row">{{row.client.name}}</td>
    </ng-container>
    <ng-container matColumnDef="roles">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Roles</th>
      <td mat-cell *matCellDef="let row">{{row.role}}</td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; colmns: displayedColumns;"></tr>

    <tr class="mat-row" *matNoDataRow>
      <td class="mat-cell" colspan="4">Oops! No results based on your search</td>
    </tr>
  </table>
</main> -->
