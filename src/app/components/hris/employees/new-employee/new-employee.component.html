<div class="container">
  <mat-stepper class="rounded-4 mt-4" [linear]="isLinear" #stepper>
    <div class="container-fluid p-4 col-8" [ngClass]="{'fullscreen-modal': isMobileScreen}">
      <mat-step [stepControl]="newEmployeeForm" label="Basic Information">
        <ng-template matStepLabel>Basic Information</ng-template>
          <div class="col-12 offset-0 col-md-8 offset-md-2 col-lg-6 offset-lg-3 ">
            <div class="row justify-content-center align-items-center">
              <div class="col-12 ms-2">
                <h2 class="text-center" id="create-employee">Create employee profile</h2>
                <span class="text-center roboto-font" id="heading-text">
                  <p>Please enter the employee’s information in</p>
                  <p>order to create a profile for them.</p>
                </span>
              </div>
            </div>
            <form [formGroup]="newEmployeeForm" (ngSubmit)="onSubmit(false)" id="newEmployeeForm">
              <div class="row justify-content-center align-items-center">
                <div class="row justify-content-center align-items-center roboto-font col-md-12 pb-3">
                  <h1 class=" mb-0 mb-md-1" id="heading">Employee Details</h1>
                  <p class="">Note: *The asterisk indicates required fields</p>
                </div>
                <div class="row flex-column justify-content-center align-items-center col-md-12">
                  <mat-form-field appearance="outline" class=" mb-3">
                    <mat-label>First Name</mat-label>
                    <input matInput type="text" formControlName="name" />
                    <mat-error *ngIf="newEmployeeForm.controls['name'].hasError('required')">
                      First Name is required
                    </mat-error>
                    <mat-error
                      *ngIf="newEmployeeForm.controls['name'].hasError('pattern') && !newEmployeeForm.controls['name'].hasError('required') ">
                      First Name must not contain numbers
                    </mat-error>
                  </mat-form-field>
                  <mat-form-field appearance="outline" class=" mb-3">
                    <mat-label>Last Name</mat-label>
                    <input matInput type="text" formControlName="surname" />
                    <mat-error *ngIf="newEmployeeForm.controls['surname'].hasError('required')">
                      Last Name is required
                    </mat-error>
                    <mat-error
                      *ngIf="newEmployeeForm.controls['surname'].hasError('pattern') && !newEmployeeForm.controls['surname'].hasError('required') ">
                      Last Name must not contain numbers
                    </mat-error>
                  </mat-form-field>
                  <mat-form-field appearance="outline" class=" mb-3">
                    <mat-label>Initials</mat-label>
                    <input matInput type="text" formControlName="initials" />
                    <mat-error *ngIf="newEmployeeForm.controls['initials'].hasError('required')">
                      Initials are required
                    </mat-error>
                    <mat-error class="mat-error"
                      *ngIf="newEmployeeForm.controls['initials'].hasError('pattern') && !newEmployeeForm.controls['initials'].hasError('required')">
                      Initials must not contain numbers
                    </mat-error>
                  </mat-form-field>
                  <mat-form-field appearance="outline" class=" mb-3">
                    <mat-label>Personal Email</mat-label>
                    <input matInput type="email" formControlName="personalEmail" />
                    <mat-error *ngIf="newEmployeeForm.controls['personalEmail'].hasError('required')">
                      Personal email is required
                    </mat-error>
                    <mat-error
                      *ngIf="newEmployeeForm.controls['personalEmail'].hasError('pattern') && !newEmployeeForm.controls['personalEmail'].hasError('required')">
                      This is not a valid email
                    </mat-error>
                  </mat-form-field>
                  <mat-form-field appearance="outline" class=" mb-3">
                    <mat-label>Work Email</mat-label>
                    <input matInput type="email" formControlName="email" />
                    <mat-error *ngIf="newEmployeeForm.controls['email'].hasError('required')">
                      Work email is required
                    </mat-error>
                    <mat-error
                      *ngIf="newEmployeeForm.controls['email'].hasError('pattern') && !newEmployeeForm.controls['email'].hasError('required')">
                      Work email must end with @retrorabbit.co.za
                    </mat-error>
                  </mat-form-field>
                  <mat-form-field appearance="outline" class=" mb-3">
                    <mat-label>People's Champion</mat-label>
                    <input type="text" placeholder="" matInput formControlName="peopleChampion"
                      [matAutocomplete]="autoChampion" (input)="filterChampions($event)">
                    <mat-autocomplete #autoChampion="matAutocomplete">
                      <mat-option *ngFor="let peopleChampion of filteredPeopleChamps"
                        [value]="peopleChampion.name + ' ' + peopleChampion.surname"
                        (onSelectionChange)="getId(peopleChampion, 'champion')">
                        {{ peopleChampion.name }}
                        {{ peopleChampion.surname }}</mat-option>
                    </mat-autocomplete>
                  </mat-form-field>
                  <mat-form-field appearance="outline" class=" mb-3">
                    <mat-label>Phone Number</mat-label>
                    <input matInput formControlName="cellphoneNo" />
                    <mat-error *ngIf="newEmployeeForm.controls['cellphoneNo'].hasError('required')">
                      Phone number is required
                    </mat-error>
                    <mat-error
                      *ngIf="newEmployeeForm.controls['cellphoneNo'].hasError('pattern') && !newEmployeeForm.controls['cellphoneNo'].hasError('required')">
                      This is not a valid phone number
                    </mat-error>
                  </mat-form-field>
                  <mat-form-field appearance="outline" class=" mb-3">
                    <mat-label>Role</mat-label>
                    <mat-select formControlName="employeeType" hideSingleSelectionIndicator="true">
                      <mat-option *ngFor="let type of employeeTypes" [value]="type">{{ type.name }}</mat-option>
                    </mat-select>
                  </mat-form-field>
                  <mat-form-field appearance="outline" class=" mb-3">
                    <mat-label>Select Level</mat-label>
                    <mat-select formControlName="level" hideSingleSelectionIndicator="true">
                      <mat-option *ngFor="let level of levels" [value]="level">{{ level }}</mat-option>
                    </mat-select>
                  </mat-form-field>
                  <mat-form-field appearance="outline" class=" mb-3">
                    <mat-label>Start Date</mat-label>
                    <input matInput formControlName="engagementDate" [matDatepicker]="engagementDatePicker" />
                    <mat-datepicker-toggle matSuffix [for]="engagementDatePicker"></mat-datepicker-toggle>
                    <mat-datepicker #engagementDatePicker></mat-datepicker>
                    <mat-error *ngIf="newEmployeeForm.controls['engagementDate'].hasError('required')">
                      Start date is required
                    </mat-error>
                  </mat-form-field>
                  <mat-form-field appearance="outline" class="">
                    <mat-label>Date of Birth</mat-label>
                    <input matInput formControlName="dateOfBirth" [matDatepicker]="dateOfBirthPicker" />
                    <mat-datepicker-toggle matSuffix [for]="dateOfBirthPicker"></mat-datepicker-toggle>
                    <mat-datepicker #dateOfBirthPicker></mat-datepicker>
                    <mat-error *ngIf="newEmployeeForm.controls['dateOfBirth'].hasError('required')">
                      Date of birth is required
                    </mat-error>
                  </mat-form-field>
                  <mat-form-field appearance="outline" class=" mb-3">
                    <mat-label>ID Number</mat-label>
                    <input matInput type="text" formControlName="idNumber" (blur)="getGenderBirthday($event)" />
                    <mat-error
                      *ngIf="newEmployeeForm.controls['idNumber'].hasError('invalidIdNumber') && !newEmployeeForm.controls['idNumber'].hasError('required')">
                      Not a valid South African ID number
                    </mat-error>
                  </mat-form-field>
                  <div class=" mb-3"> <span class="roboto-font pb-3">Do you have any disabilities?</span>
                    <mat-radio-group formControlName="disability" class="row">
                      <mat-radio-button class="col-12 p-1" *ngFor="let check of [false, true]" [value]="check">
                        {{ check ? "Yes" : "No"}}
                      </mat-radio-button>
                    </mat-radio-group>
                    <mat-error *ngIf="newEmployeeForm.controls['disability'].hasError('required')">
                      Disability is required
                    </mat-error>
                  </div>
                  <mat-form-field appearance="outline" class=""
                    *ngIf="newEmployeeForm.controls['disability'].value">
                    <mat-label>Disability Notes</mat-label>
                    <textarea matInput type="text" formControlName="disabilityNotes"></textarea>
                  </mat-form-field>
                </div>
                <form [formGroup]="settingsForm"
                  class="row flex-column justify-content-center align-items-center roboto-font col-md-12">
                  <div class="d-flex justify-content-end"> <label class="fw-base pe-3" id="additional-fields-label"
                      for="additionalFieldsToggle">Additional Fields</label>
                    <mat-slide-toggle color="primary" id="additionalFieldsToggle"
                      formControlName="toggleAdditionalFields"></mat-slide-toggle>
                  </div>
                </form>
                <div *ngIf="settingsForm.controls['toggleAdditionalFields'].value === true "
                  class="row justify-content-center align-items-center col-md-12 p-0">
                  <div class="row flex-column justify-content-center align-items-center roboto-font">
                    <h1 class=" pb-3" id="heading">Additional Information</h1>
                    <div class=" pb-3">
                      <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Profile photo</mat-label>
                        <input matInput type="text" [value]="imageName" />
                        <span mat-icon-button matSuffix (click)="uploadFile.click()" class="pe-3">
                          <mat-icon id="file-upload-cursor">file_upload</mat-icon>
                          <input type="file" #uploadFile (change)="onFileChange($event)" hidden />
                        </span>
                      </mat-form-field>
                      <div id="image-preview" *ngIf="imageUrl !== ''">
                        <img [src]="imageUrl" />
                      </div>
                    </div>
                    <div class="row flex-column col-lg-12 col-md-12 pb-3">
                      <span class="col-lg-7 fs-5 roboto-font pb-3">Gender</span>
                      <mat-radio-group class="col-lg-7 row d-flex" formControlName="gender">
                        <mat-radio-button class="p-0" *ngFor="let gender of genders; index as i" [value]="i">{{ gender
                          }}</mat-radio-button>
                      </mat-radio-group>
                    </div>
                    <mat-form-field appearance="outline" class="">
                      <mat-label>Race</mat-label>
                      <mat-select formControlName="race" placeholder="Select race" hideSingleSelectionIndicator="true">
                        <mat-option *ngFor="let race of races; index as i" [value]="i">{{ race }}</mat-option>
                      </mat-select>
                    </mat-form-field>
                    <mat-form-field *ngIf="newEmployeeForm.controls['idNumber'].value === ''" appearance="outline"
                      class="">
                      <mat-label>Passport Number</mat-label>
                      <input matInput type="number" formControlName="passportNumber" />
                    </mat-form-field>
                    <mat-form-field *ngIf="newEmployeeForm.controls['idNumber'].value === ''" appearance="outline"
                      class="">
                      <mat-label>Passport Expiration Date</mat-label>
                      <input matInput formControlName="passportExpiryDate" [matDatepicker]="passportExpiryDate" />
                      <mat-datepicker-toggle matSuffix [for]="passportExpiryDate"></mat-datepicker-toggle>
                      <mat-datepicker #passportExpiryDate></mat-datepicker>
                    </mat-form-field>
                    <mat-form-field *ngIf="newEmployeeForm.controls['idNumber'].value === ''" appearance="outline"
                      class=" custom-mat-select">
                      <mat-label>Country of Issue</mat-label>
                      <input matInput type="text" formControlName="passportCountryIssue" />
                      <mat-select #countrySelect formControlName="passportCountryIssue" hidden
                        hideSingleSelectionIndicator="true">
                        <mat-option *ngFor="let country of countries" [value]="country">{{ country }}</mat-option>
                      </mat-select>
                      <mat-icon matSuffix (click)="countrySelect.open()">Search</mat-icon>
                    </mat-form-field>

                    <mat-form-field appearance="outline" class=""
                      *ngIf="!postalAddressForm.controls['sameAsPhysicalAddress'].value">
                      <mat-label>Notes</mat-label>
                      <textarea matInput type="text" formControlName="notes"> </textarea>
                    </mat-form-field>
                  </div>
                  <form [formGroup]="physicalAddress"
                    class="row flex-column justify-content-center align-items-center roboto-font col-md-12 mb-3">
                    <h1 class="" id="heading">Physical Address</h1>
                    <mat-form-field appearance="outline" class=" mt-2">
                      <mat-label>Country</mat-label>
                      <mat-select formControlName="country" (selectionChange)="onCountryChange($event.value)"
                        hideSingleSelectionIndicator="true">
                        <mat-option *ngFor="let country of countries" [value]="country">{{ country }}</mat-option>
                      </mat-select>
                    </mat-form-field>
                    <mat-form-field appearance="outline" class=" mt-2">
                      <mat-label>Province</mat-label>
                      <mat-select formControlName="province" (selectionChange)="loadCities($event.value)"
                        hideSingleSelectionIndicator="true">
                        <mat-option *ngFor="let province of provinces" [value]="province">{{ province }}</mat-option>
                      </mat-select>
                    </mat-form-field>
                    <mat-form-field appearance="outline" class=" mt-2">
                      <mat-label>City/Town</mat-label>
                      <input matInput type="text" formControlName="city" />
                    </mat-form-field>
                    <mat-form-field appearance="outline" class=" mt-2">
                      <mat-label>Suburb/District</mat-label>
                      <mat-select formControlName="suburbDistrict" hideSingleSelectionIndicator="true">
                        <mat-option *ngFor="let city of cities" [value]="city">{{ city }}</mat-option>
                      </mat-select>
                    </mat-form-field>
                    <mat-form-field appearance="outline" class=" mt-2">
                      <mat-label>Unit Number</mat-label>
                      <input matInput type="text" formControlName="unitNumber" />
                    </mat-form-field>
                    <mat-form-field appearance="outline" class=" mt-2">
                      <mat-label>Complex Name</mat-label>
                      <input matInput type="text" formControlName="complexName" />
                    </mat-form-field>
                    <mat-form-field appearance="outline" class=" mt-2">
                      <mat-label>Street Number</mat-label>
                      <input matInput type="text" formControlName="streetNumber" />
                      <mat-error *ngIf="physicalAddress.controls['streetNumber'].hasError('pattern')">
                        Street number must only contain numbers
                      </mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="outline" class=" mt-2">
                      <mat-label>Street Name</mat-label>
                      <input matInput type="text" formControlName="streetName" />
                      <mat-error *ngIf="physicalAddress.controls['streetName'].hasError('pattern')">
                        Street name must only contain letters
                      </mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="outline" class=" mt-2">
                      <mat-label>Postal Code</mat-label>
                      <input matInput type="text" formControlName="postalCode" />
                      <mat-error *ngIf="physicalAddress.controls['postalCode'].hasError('pattern')">
                        Postal code must contain only numbers.
                      </mat-error>
                    </mat-form-field>
                    <form class=" mt-2" [formGroup]="postalAddressForm">
                      <mat-checkbox [checked]="isSameAddress" value="isSameAddress" inputId="checkbox"
                        (change)="postalSameAsPhysicalAddress($event.checked)">
                      </mat-checkbox>
                      <label class="ms-1" for="checkbox">Postal address is the same as physical
                        address</label>
                    </form>
                  </form>
                  <form [formGroup]="postalAddress" *ngIf="!isSameAddress"
                    class="row flex-column justify-content-center align-items-center roboto-font col-md-12 mt-5">
                    <h1 class=" fs-1">Postal Address</h1>
                    <mat-form-field appearance="outline" class=" mt-2">
                      <mat-label>Country</mat-label>
                      <mat-select formControlName="country" (selectionChange)="onCountryChange($event.value)"
                        hideSingleSelectionIndicator="true">
                        <mat-option *ngFor="let country of countries" [value]="country">{{ country }}</mat-option>
                      </mat-select>
                    </mat-form-field>
                    <mat-form-field appearance="outline" class=" mt-2">
                      <mat-label>Province</mat-label>
                      <mat-select formControlName="province" (selectionChange)="loadCities($event.value)"
                        hideSingleSelectionIndicator="true">
                        <mat-option *ngFor="let province of provinces" [value]="province">{{ province }}</mat-option>
                      </mat-select>
                    </mat-form-field>
                    <mat-form-field appearance="outline" class=" mt-2">
                      <mat-label>City/Town</mat-label>
                      <input matInput type="text" formControlName="city" />
                    </mat-form-field>
                    <mat-form-field appearance="outline" class=" mt-2">
                      <mat-label>Suburb/District</mat-label>
                      <mat-select formControlName="suburbDistrict" hideSingleSelectionIndicator="true">
                        <mat-option *ngFor="let city of cities" [value]="city">{{ city }}</mat-option>
                      </mat-select>
                    </mat-form-field>
                    <mat-form-field appearance="outline" class=" mt-2">
                      <mat-label>Unit Number</mat-label>
                      <input matInput type="text" formControlName="unitNumber" />
                    </mat-form-field>
                    <mat-form-field appearance="outline" class=" mt-2">
                      <mat-label>Complex Name</mat-label>
                      <input matInput type="text" formControlName="complexName" />
                    </mat-form-field>
                    <mat-form-field appearance="outline" class=" mt-2">
                      <mat-label>Street Number</mat-label>
                      <input matInput type="text" formControlName="streetNumber" />
                      <mat-error *ngIf="physicalAddress.controls['streetNumber'].hasError('pattern')">
                        Street number must only contain numbers
                      </mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="outline" class=" mt-2">
                      <mat-label>Street Name</mat-label>
                      <input matInput type="text" formControlName="streetName" />
                      <mat-error *ngIf="physicalAddress.controls['streetName'].hasError('pattern')">
                        Street name must only contain letters
                      </mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="outline" class=" mt-2">
                      <mat-label>Postal Code</mat-label>
                      <input matInput type="text" formControlName="postalCode" />
                      <mat-error *ngIf="physicalAddress.controls['postalCode'].hasError('pattern')">
                        Postal code must contain only numbers.
                      </mat-error>
                    </mat-form-field>
                  </form>
                </div>
              </div>
              <div id="footer">
                <button id="cancel-button" [ngClass]="screenWidth < 768 ? 'button-mobile' : ''"
                  (click)="goToPreviousPage()">Cancel</button>
                <button id="next-button" [ngClass]="screenWidth < 768 ? 'button-mobile button-top' : ''"
                  matStepperNext>Next</button>
              </div>
            </form>
          </div>
      </mat-step>
      <mat-step [stepControl]="uploadDocumentForm" label="Upload Documents">
        <button mat-button id="back" [ngClass]="screenWidth < 768 ? 'back-button-mobile' : ''" matStepperPrevious>
          <mat-icon>arrow_back</mat-icon>
          Back
        </button>
        <ng-template matStepLabel>Documents</ng-template>
        <form [formGroup]="uploadDocumentForm">
          <div class="row justify-content-center align-items-center">
            <div class="col-md-12 col-lg-12">
              <h2 class="text-center" id="create-employee">Starter kits</h2>
              <span class="text-center roboto-font" id="heading-text">
                <p>Please upload employee’s starter kit documents below</p>
              </span>
            </div>
          </div>
          <div class="container upload-drop-container">
            <div class="row justify-content-center align-items-center">
              <div class="upload-drop-section row">
                <ngx-file-drop dropZoneClassName="upload-drop-section" contentClassName="" accept=".PDF"
                  (onFileDrop)="dropped($event, 0)" (onFileOver)="fileOver($event)" (onFileLeave)="fileLeave($event)">
                  <ng-template ngx-file-drop-content-tmp let-openFileSelector="openFileSelector" directory="true"
                    multiple="true">
                    <div class="justify-content-center align-items-center p-2 m-2">
                      <div class="row">
                        <div class="col-5">
                          <div id="align">
                            <mat-icon *ngIf="categories[0].state == false" id="icon">check_circle</mat-icon>
                          </div>
                          <div class="roboto-font" *ngIf="categories[0].state == true" id="align">
                            <p id="title">Employment Contract</p>
                            <p id="supported">PDF is supported</p>
                          </div>
                          <div class="roboto-font" *ngIf="categories[0].state == false" id="align">
                            <p id="title">Employment contract</p>
                            <p id="document-text">{{categories[0].name}}</p>
                          </div>
                        </div>
                        <div class="col d-none d-lg-block file-mention" id="align-left"
                          *ngIf="categories[0].state == true">
                          <p id="drop-file" alig>Drop your Files Here!</p>
                        </div>
                        <div class="col">
                          <div id="align-buttons">
                            <div id="remove-upload-button-container">
                              <button mat-button id="file-button" *ngIf="categories[0].state == false" class="mx-2"
                                type="button" (click)="removeByCategory(0)">
                                <mat-icon>Clear</mat-icon>
                                Remove
                              </button>
                              <button mat-button id="upload-button" class="text-white border-primary mx-2" type="button"
                                (click)="openFileSelector()" [disabled]="categories[0].state == false">
                                <mat-icon>Add</mat-icon>
                                Upload
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </ngx-file-drop>
              </div>
              <div class="upload-drop-section row">
                <ngx-file-drop dropZoneClassName="upload-drop-section" contentClassName="" accept=".PDF"
                  (onFileDrop)="dropped($event, 2)" (onFileOver)="fileOver($event)" (onFileLeave)="fileLeave($event)">
                  <ng-template ngx-file-drop-content-tmp let-openFileSelector="openFileSelector" directory="true"
                    multiple="true">
                    <div class="justify-content-center align-items-center p-2 m-2">
                      <div class="row">
                        <div class="col-5">
                          <div id="align">
                            <mat-icon *ngIf="categories[2].state == false" id="icon">check_circle</mat-icon>
                          </div>
                          <div class="roboto-font" *ngIf="categories[2].state == true" id="align">
                            <p id="title">Medical Aid</p>
                            <p id="supported">PDF is supported</p>
                          </div>
                          <div class="roboto-font" *ngIf="categories[2].state == false" id="align">
                            <p id="title">Medical Aid</p>
                            <p id="document-text">{{categories[2].name}}</p>
                          </div>
                        </div>
                        <div class="col d-none d-lg-block file-mention" id="align-left"
                          *ngIf="categories[2].state == true">
                          <p id="drop-file">Drop your files Here!</p>
                        </div>
                        <div class="col">
                          <div id="align-buttons">
                            <div id="remove-upload-button-container">
                              <button mat-button id="file-button" *ngIf="categories[2].state == false" class="mx-2"
                                type="button" (click)="removeByCategory(2)">
                                <mat-icon>clear</mat-icon>
                                Remove
                              </button>
                              <button mat-button id="upload-button" class="text-white border-primary mx-2" type="button"
                                (click)="openFileSelector()" [disabled]="categories[2].state == false">
                                <mat-icon>Add</mat-icon>
                                Upload
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </ngx-file-drop>
              </div>
              <div class="upload-drop-section row">
                <ngx-file-drop dropZoneClassName="upload-drop-section" contentClassName="" accept=".PDF"
                  (onFileDrop)="dropped($event, 1)" (onFileOver)="fileOver($event)" (onFileLeave)="fileLeave($event)">
                  <ng-template ngx-file-drop-content-tmp let-openFileSelector="openFileSelector" directory="true"
                    multiple="true">
                    <div class="justify-content-center align-items-center p-2 m-2">
                      <div class="row">
                        <div class="col-5">
                          <div id="align">
                            <mat-icon *ngIf="categories[1].state == false" id="icon">check_circle</mat-icon>
                          </div>
                          <div class="roboto-font" *ngIf="categories[1].state == true" id="align">
                            <p id="title">Retirement Annuity</p>
                            <p id="supported">PDF is supported</p>
                          </div>
                          <div class="roboto-font" *ngIf="categories[1].state == false" id="align">
                            <p id="title">Retirement Annuity</p>
                            <p id="document-text">{{categories[1].name}}</p>
                          </div>
                        </div>
                        <div class="col d-none d-lg-block file-mention" id="align-left"
                          *ngIf="categories[1].state == true">
                          <p id="drop-file">Drop your files Here!</p>
                        </div>
                        <div class="col">
                          <div id="align-buttons">
                            <div id="remove-upload-button-container">
                              <button mat-button id="file-button" *ngIf="categories[1].state == false" class="mx-2"
                                type="button" (click)="removeByCategory(1)">
                                <mat-icon>clear</mat-icon>
                                Remove
                              </button>
                              <button mat-button id="upload-button" class="text-white border-primary mx-2" type="button"
                                (click)="openFileSelector()" [disabled]="categories[1].state == false">
                                <mat-icon>Add</mat-icon>
                                Upload
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </ngx-file-drop>
              </div>
              <div class="upload-drop-mie row">
                <ngx-file-drop dropZoneClassName="upload-drop-section" contentClassName="" accept=".PDF"
                  (onFileDrop)="dropped($event, 3)" (onFileOver)="fileOver($event)" (onFileLeave)="fileLeave($event)">
                  <ng-template ngx-file-drop-content-tmp let-openFileSelector="openFileSelector" directory="true"
                    multiple="true">
                    <div class="justify-content-center align-items-center p-2 m-2">
                      <div class="row">
                        <div class="col-5">
                          <div id="align">
                            <mat-icon *ngIf="categories[3].state == false" id="icon">check_circle</mat-icon>
                          </div>
                          <div class="roboto-font" id="align" *ngIf="categories[3].state == true">
                            <p id="title">MIE Consent Form</p>
                            <p id="supported">PDF is supported</p>
                          </div>
                          <div class="roboto-font" id="align" *ngIf="categories[3].state == false">
                            <p id="title">MIE Consent Form</p>
                            <p id="document-text">{{categories[3].name}}</p>
                          </div>
                        </div>
                        <div class="col d-none d-lg-block file-mention" id="align-left"
                          *ngIf="categories[3].state == true">
                          <p id="drop-file">Drop your files Here!</p>
                        </div>
                        <div class="col">
                          <div id="align-buttons">
                            <div id="remove-upload-button-container">
                              <button mat-button id="file-button" *ngIf="categories[3].state == false" class="mx-2"
                                type="button" (click)="removeByCategory(3)">
                                <mat-icon>Clear</mat-icon>
                                Remove
                              </button>
                              <button mat-button id="upload-button" class="text-white border-primary mx-2" type="button"
                                (click)="openFileSelector()" [disabled]="categories[3].state == false">
                                <mat-icon>Add</mat-icon>
                                Upload
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </ngx-file-drop>
              </div>
            </div>
          </div>
          <div id="footer">
            <button id="cancel-button" [ngClass]="screenWidth < 768 ? 'button-mobile' : ''"
              (click)="goToPreviousPage()">Cancel</button>
            <button [disabled]="!isSavedEmployee || categories[0].state == true && categories[1].state == true && categories[2].state == true && categories[3].state == true" 
             id="save-add-button" [ngClass]="screenWidth < 768 ? 'button-mobile' : ''"
              (click)="saveAndAddAnother()">Save and add another</button>
            <button [disabled]="!isSavedEmployee || categories[0].state == true && categories[1].state == true && categories[2].state == true && categories[3].state == true" 
            id="save-button" [ngClass]="screenWidth < 768 ? 'button-mobile  button-top' : ''"
              (click)="saveAndExit()">Save</button>
          </div>
        </form>
      </mat-step>
    </div>
  </mat-stepper>
  <div class="spinner-container" *ngIf="isLoadingAddEmployee == true">
    <mat-spinner></mat-spinner>
  </div>
</div>