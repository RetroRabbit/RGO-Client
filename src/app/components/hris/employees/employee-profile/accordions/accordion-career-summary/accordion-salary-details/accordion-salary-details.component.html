<div class="col-12" *ngIf="isAdminUser" id="accordion-container">
    <mat-accordion id="accordion" class="row">
        <mat-expansion-panel class="mt-3 rounded-3" (opened)="panelOpenState = true" (closed)="panelOpenState = false">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Salary Details
                </mat-panel-title>
                <mat-panel-description *ngIf="this.sharedAccordionFunctionality.salaryDetailsFormProgress != 100"
                class="pe-0 pe-md-5">
                <mat-icon class="mx-1">error</mat-icon>
                 <span class="d-none d-md-block d-lg-block">Missing Information</span>
            </mat-panel-description>
            </mat-expansion-panel-header>
            <form [formGroup]="sharedAccordionFunctionality.salaryDetailsForm">
                <div class="col-12 mb-2 d-flex justify-content-end" id="space">
                </div>
                <button class="d-flex d-md-none col-12" *ngIf="!editSalary" mat-button id="edit-button" (click)="editSalaryDetails()"
                [ngClass]="screenWidth <= 767 ?'col-12':''">
                    <mat-icon>edit</mat-icon>Edit Details
                </button>
                <div class="row">
                    <div class="row">
                        <div class="col-12 col-md-9 col-lg-10">
                            <div class="row">
                                <div class="col-12 col-md-4">
                                    <h3>
                                    Last Updated: {{ message }}
                                    </h3>
                                    <hr class="col-10 solid">
                                    <h3>
                                    {{ employeeProfile?.employeeType?.name}} | Level {{ employeeProfile?.level}}
                                    </h3>
                                </div>
                                <div id="company-cost" class="col-12">
                                    <h3>
                                        Cost to Company
                                    </h3>
                                </div>
                                <div class="col-12 col-md-6">
                                    <mat-form-field appearance="outline" style="width: 100%;">
                                      <mat-label>Remuneration</mat-label>
                                      <div class="align-text-icon">
                                      <input type="text" min="0" matInput placeholder="Remuneration" formControlName="remuneration" [(ngModel)]="remuneration">
                                      <mat-icon *ngIf="isInputEmpty(remuneration)" [ngStyle]="{color: editSalary ? '#B3261E' : 'grey'}" class="mx-1 flex-end">error</mat-icon>
                                     </div>
                                      <mat-error
                                      *ngIf="sharedAccordionFunctionality.salaryDetailsForm.controls['remuneration'].hasError('required')">
                                      Remuneration is required</mat-error>
                                    </mat-form-field>
                                </div>
                                <div class="col-12 col-md-6">
                                    <mat-form-field appearance="outline" style="width: 100%;">
                                      <mat-label>Tax Number</mat-label>
                                      <div class="align-text-icon">
                                      <input type="text" min="0" matInput placeholder="Tax Number" formControlName="taxNumber" [(ngModel)]="taxNumber">
                                      <mat-icon *ngIf="isInputEmpty(taxNumber)" [ngStyle]="{color: editSalary ? '#B3261E' : 'grey'}" class="mx-1 flex-end">error</mat-icon>
                                      </div>
                                      <mat-error
                                      *ngIf="sharedAccordionFunctionality.salaryDetailsForm.controls['taxNumber'].hasError('required')">
                                      Tax Number is required</mat-error>
                                      <mat-error *ngIf="sharedAccordionFunctionality.salaryDetailsForm.controls['taxNumber'].hasError('pattern')">
                                        Tax Number is incorrect
                                    </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="isAdminUser" class="col-lg-2 col-md-3 d-none d-md-flex mt-md-2 justify-content-end">
                            <button *ngIf="!editSalary" mat-button id="edit-button-width" (click)="editSalaryDetails()" 
                            [ngClass]="screenWidth <= 767 ?'col-12':''">
                            <mat-icon>edit</mat-icon>Edit Details
                            </button>
                        </div>
                    </div>
                    <div class="col-12 d-none d-md-flex" id="edit-buttons">
                        <button *ngIf="editSalary" mat-button id="cancel-button" (click)="cancelSalaryDetails()">
                            Cancel
                        </button>
                        <button *ngIf="editSalary" mat-button id="save-button" (click)="saveEmployeeSalaryDetails()">
                            Save
                        </button>
                    </div>
                    <div class="col-12 d-block d-md-none" id="edit-buttons">
                        <button *ngIf="editSalary" mat-button id="save-button" class="col-12 mb-2" (click)="saveEmployeeSalaryDetails()">
                            Save
                        </button>
                        <button *ngIf="editSalary" mat-button id="cancel-button" class="col-12" (click)="cancelSalaryDetails()">
                            Cancel
                        </button>
                    </div>
                </div>
            </form>
        </mat-expansion-panel>
    </mat-accordion>
</div>